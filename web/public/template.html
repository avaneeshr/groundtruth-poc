<script src="https://assets.crowd.aws/crowd-html-elements.js"></script>

<link rel="stylesheet" href="https://s3.amazonaws.com/ar-smgtannotation/web/static/css/1.a40596c6.chunk.css">
<link rel="stylesheet" href="https://s3.amazonaws.com/ar-smgtannotation/web/static/css/main.91535052.chunk.css">

<div id='document-text' style="display: none;">
  {{ task.input.text }}
</div>
<div id='document-image' style="display: none;">
        {{ task.input.taskObject  | escape}}
</div>
<div id="metadata" style="display: none;">
  {{ task.input.metadata }}
</div>

<crowd-form>
    <input name="annotations" id="annotations" type="hidden">

     <!-- Prevent crowd-form from creating its own button -->
    <crowd-button form-action="submit" style="display: none;"></crowd-button>
</crowd-form>

<!-- Custom annotation user interface is rendered here -->
<div id="root"></div>

<crowd-button id="submitButton">Submit</crowd-button>

<script>
    document.querySelector('crowd-form').onsubmit = function() {
        document.getElementById('annotations').value = JSON.stringify(JSON.parse(document.querySelector('pre').innerText));
    };

    document.getElementById('submitButton').onclick = function() {
        document.querySelector('crowd-form').submit();
    };
</script>

<script src="https://s3.amazonaws.com/ar-smgtannotation/web/static/js/1.68124f65.chunk.js"></script>
<script src="https://s3.amazonaws.com/ar-smgtannotation/web/static/js/main.17a1b0ef.chunk.js"></script>
<script src="https://s3.amazonaws.com/ar-smgtannotation/web/static/js/runtime~main.229c360f.js"></script>
